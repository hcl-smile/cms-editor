{"id":"../node_modules/amis/lib/renderers/Form/Repeat.js","dependencies":[{"name":"/Users/hcltmac/Desktop/amis-editor/package.json","includedInParent":true,"mtime":1607395305037},{"name":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/package.json","includedInParent":true,"mtime":1606632442000},{"name":"tslib","loc":{"line":10,"column":22},"parent":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/renderers/Form/Repeat.js","resolved":"/Users/hcltmac/Desktop/amis-editor/node_modules/tslib/tslib.es6.js"},{"name":"react","loc":{"line":11,"column":46},"parent":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/renderers/Form/Repeat.js","resolved":"/Users/hcltmac/Desktop/amis-editor/node_modules/react/index.js"},{"name":"classnames","loc":{"line":12,"column":51},"parent":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/renderers/Form/Repeat.js","resolved":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/node_modules/classnames/index.js"},{"name":"./Item","loc":{"line":13,"column":21},"parent":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/renderers/Form/Repeat.js","resolved":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/renderers/Form/Item.js"},{"name":"../../components/Select","loc":{"line":24,"column":47},"parent":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/renderers/Form/Repeat.js","resolved":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/components/Select.js"},{"name":"../../components/Range","loc":{"line":25,"column":46},"parent":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/renderers/Form/Repeat.js","resolved":"/Users/hcltmac/Desktop/amis-editor/node_modules/amis/lib/components/Range.js"}],"generated":{"js":"\"use strict\";\n/**\n * @file filter\n * @author fex\n *\n * 不建议用，以后可能会删除。可以直接用组合出来，不需要新建一个组件。\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RepeatControlRenderer = void 0;\nvar tslib_1 = require(\"tslib\");\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar Item_1 = require(\"./Item\");\nvar LANG = {\n    secondly: '秒',\n    minutely: '分',\n    hourly: '时',\n    daily: '天',\n    weekdays: '周中',\n    weekly: '周',\n    monthly: '月',\n    yearly: '年'\n};\nvar Select_1 = tslib_1.__importDefault(require(\"../../components/Select\"));\nvar Range_1 = tslib_1.__importDefault(require(\"../../components/Range\"));\nvar RepeatControl = /** @class */ (function (_super) {\n    tslib_1.__extends(RepeatControl, _super);\n    function RepeatControl(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleOptionChange = _this.handleOptionChange.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n        return _this;\n    }\n    RepeatControl.prototype.handleOptionChange = function (option) {\n        this.props.onChange(option.value);\n    };\n    RepeatControl.prototype.handleChange = function (value) {\n        var option = this.props.value;\n        var parts = option ? option.split(':') : [];\n        this.props.onChange(parts[0] + \":\" + value);\n    };\n    RepeatControl.prototype.renderInput = function () {\n        var _this = this;\n        var value = this.props.value;\n        var parts = value ? value.split(':') : [];\n        var _a = this.props, options = _a.options, placeholder = _a.placeholder, disabled = _a.disabled, ns = _a.classPrefix, __ = _a.translate;\n        var optionsArray = [];\n        optionsArray = options.split(',').map(function (key) { return ({\n            label: LANG[key] || '不支持',\n            value: key\n        }); });\n        optionsArray.unshift({\n            label: __(placeholder),\n            value: ''\n        });\n        var input;\n        parts[1] = parseInt(parts[1], 10) || 1;\n        switch (parts[0]) {\n            case 'secondly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 5, max: 60, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'minutely':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 5, max: 60, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'hourly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 24, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'daily':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 30, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'weekly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 12, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'monthly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 12, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'yearly':\n                input = (react_1.default.createElement(Range_1.default, { classPrefix: ns, key: \"input\", className: \"v-middle\", value: parts[1], min: 1, step: 1, max: 20, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n        }\n        return (react_1.default.createElement(\"div\", { className: \"repeat-control hbox\" },\n            input ? (react_1.default.createElement(\"div\", { className: \"col v-middle\", style: { width: 30 } },\n                react_1.default.createElement(\"span\", null, __('每')))) : null,\n            input ? react_1.default.createElement(\"div\", { className: \"col v-middle\" }, input) : null,\n            react_1.default.createElement(\"div\", { className: \"col v-middle repeat-btn\" },\n                react_1.default.createElement(Select_1.default, { classPrefix: ns, className: input ? 'pull-right' : '', options: optionsArray, placeholder: __(placeholder), onChange: this.handleOptionChange, value: parts[0], clearable: false, searchable: false, disabled: disabled, joinValues: false }))));\n    };\n    RepeatControl.prototype.render = function () {\n        var _a = this.props, className = _a.className, ns = _a.classPrefix;\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default(ns + \"RepeatControl\", className) }, this.renderInput()));\n    };\n    RepeatControl.defaultProps = {\n        // options: 'secondly,minutely,hourly,daily,weekdays,weekly,monthly,yearly'\n        options: 'hourly,daily,weekly,monthly',\n        placeholder: '不重复'\n    };\n    return RepeatControl;\n}(react_1.default.Component));\nexports.default = RepeatControl;\nvar RepeatControlRenderer = /** @class */ (function (_super) {\n    tslib_1.__extends(RepeatControlRenderer, _super);\n    function RepeatControlRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RepeatControlRenderer = tslib_1.__decorate([\n        Item_1.FormItem({\n            type: 'repeat',\n            sizeMutable: false\n        })\n    ], RepeatControlRenderer);\n    return RepeatControlRenderer;\n}(RepeatControl));\nexports.RepeatControlRenderer = RepeatControlRenderer;\n\n"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"../node_modules/amis/lib/renderers/Form/Repeat.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}}],"sources":{"../node_modules/amis/lib/renderers/Form/Repeat.js":"\"use strict\";\n/**\n * @file filter\n * @author fex\n *\n * 不建议用，以后可能会删除。可以直接用组合出来，不需要新建一个组件。\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RepeatControlRenderer = void 0;\nvar tslib_1 = require(\"tslib\");\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar Item_1 = require(\"./Item\");\nvar LANG = {\n    secondly: '秒',\n    minutely: '分',\n    hourly: '时',\n    daily: '天',\n    weekdays: '周中',\n    weekly: '周',\n    monthly: '月',\n    yearly: '年'\n};\nvar Select_1 = tslib_1.__importDefault(require(\"../../components/Select\"));\nvar Range_1 = tslib_1.__importDefault(require(\"../../components/Range\"));\nvar RepeatControl = /** @class */ (function (_super) {\n    tslib_1.__extends(RepeatControl, _super);\n    function RepeatControl(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleOptionChange = _this.handleOptionChange.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n        return _this;\n    }\n    RepeatControl.prototype.handleOptionChange = function (option) {\n        this.props.onChange(option.value);\n    };\n    RepeatControl.prototype.handleChange = function (value) {\n        var option = this.props.value;\n        var parts = option ? option.split(':') : [];\n        this.props.onChange(parts[0] + \":\" + value);\n    };\n    RepeatControl.prototype.renderInput = function () {\n        var _this = this;\n        var value = this.props.value;\n        var parts = value ? value.split(':') : [];\n        var _a = this.props, options = _a.options, placeholder = _a.placeholder, disabled = _a.disabled, ns = _a.classPrefix, __ = _a.translate;\n        var optionsArray = [];\n        optionsArray = options.split(',').map(function (key) { return ({\n            label: LANG[key] || '不支持',\n            value: key\n        }); });\n        optionsArray.unshift({\n            label: __(placeholder),\n            value: ''\n        });\n        var input;\n        parts[1] = parseInt(parts[1], 10) || 1;\n        switch (parts[0]) {\n            case 'secondly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 5, max: 60, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'minutely':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 5, max: 60, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'hourly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 24, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'daily':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 30, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'weekly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 12, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'monthly':\n                input = (react_1.default.createElement(Range_1.default, { key: \"input\", classPrefix: ns, value: parts[1], min: 1, step: 1, max: 12, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n            case 'yearly':\n                input = (react_1.default.createElement(Range_1.default, { classPrefix: ns, key: \"input\", className: \"v-middle\", value: parts[1], min: 1, step: 1, max: 20, disabled: disabled, onChange: function (value) { return _this.handleChange(value); } }));\n                break;\n        }\n        return (react_1.default.createElement(\"div\", { className: \"repeat-control hbox\" },\n            input ? (react_1.default.createElement(\"div\", { className: \"col v-middle\", style: { width: 30 } },\n                react_1.default.createElement(\"span\", null, __('每')))) : null,\n            input ? react_1.default.createElement(\"div\", { className: \"col v-middle\" }, input) : null,\n            react_1.default.createElement(\"div\", { className: \"col v-middle repeat-btn\" },\n                react_1.default.createElement(Select_1.default, { classPrefix: ns, className: input ? 'pull-right' : '', options: optionsArray, placeholder: __(placeholder), onChange: this.handleOptionChange, value: parts[0], clearable: false, searchable: false, disabled: disabled, joinValues: false }))));\n    };\n    RepeatControl.prototype.render = function () {\n        var _a = this.props, className = _a.className, ns = _a.classPrefix;\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default(ns + \"RepeatControl\", className) }, this.renderInput()));\n    };\n    RepeatControl.defaultProps = {\n        // options: 'secondly,minutely,hourly,daily,weekdays,weekly,monthly,yearly'\n        options: 'hourly,daily,weekly,monthly',\n        placeholder: '不重复'\n    };\n    return RepeatControl;\n}(react_1.default.Component));\nexports.default = RepeatControl;\nvar RepeatControlRenderer = /** @class */ (function (_super) {\n    tslib_1.__extends(RepeatControlRenderer, _super);\n    function RepeatControlRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RepeatControlRenderer = tslib_1.__decorate([\n        Item_1.FormItem({\n            type: 'repeat',\n            sizeMutable: false\n        })\n    ], RepeatControlRenderer);\n    return RepeatControlRenderer;\n}(RepeatControl));\nexports.RepeatControlRenderer = RepeatControlRenderer;\n\n"},"lineCount":115}},"error":null,"hash":"bc5f86076a89bbdba75c3b7493b156d1","cacheData":{"env":{}}}